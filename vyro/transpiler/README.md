# Introduction to Vyro

## Overview

The Vyro transpiler walks the Vyper AST generated by the Vyper compiler repeatedly. Each walk of the AST is referred to as a "pass". Typically, each pass should transform a specific feature or node class into its Cairo equivalent.

To add a new pass to the controller:
1. Create a new file in `vyro/transpiler/passes/` and define a new visitor class that inherits from `BaseVisitor`.
2. In the new visitor class, implement the transpilation by overwriting the `visit_NodeType` function for the relevant nodes that need to be handled, where `NodeType` is either a Vyper AST node, or a custom Cairo node defined in `vyro/cairo/nodes.py`.

## General pointers

- When reusing an existing node that is pointed to by an attribute of a parent node (e.g. `node.target`, `node.value`), remove the node from the parent node's list of children: `node._children.remove(condition)`. Failing to do so will result in duplicate nodes during replacement, because the node will exist in both the previous parent's list of children and its new parent's list of children.
